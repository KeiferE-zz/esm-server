<div class="spinner-container fixed" ng-show="dashboardLoading">
  <div class="spinner-new rotating"></div>
</div>

<div class="main-panel" ng-if="!vm.authentication.user">
  <h1>Unauthorized</h1>
</div>

<div class="main-panel" ng-if="vm.authentication.user" ng-hide="dashboardLoading">
  <div class="view-title-container">
    <h1>My Projects</h1>
  </div>

  <div class="view-body-container">
    <div class="button-bar">
      <a class="btn btn-default btn-sm"
        ng-show="application.userCan.createProject"
        ui-sref="p.edit({projectid:'new'})">
       <span class="glyphicon glyphicon-plus"></span><span>Add New Project</span>
     </a>
    </div>
    <div class="table-container">
      <table class="my-projects-table table table-hover" ng-table="vm.tableParams">
        <tbody>
          <tr ng-repeat="project in $data" class='clickable' ui-sref="p.detail({projectid: project.code})">
            <td header-class="'name-col'"
              data-title="'Project Name'"
              sortable="'name'">{{project.name}}</td>
            <td header-class="'type-col'"
              data-title="'Type'"
              sortable="'type'">{{project.type}}</td>
            <td header-class="'region-col'"
              data-title="'Region'"
              sortable="'region'">{{project.region}}</td>
            <td class="actions-col" header-class="'actions-col'">
              <div class="btn-group">
                <a class="btn icon-btn" ui-sref="p.edit({projectid: project.code})">
                  <span class="glyphicon glyphicon-pencil"></span>
                </a>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>

</div>
